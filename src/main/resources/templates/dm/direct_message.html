<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/layout}">
<head>
    <meta charset="UTF-8">
    <title>DM画面</title>
    <!--タブ用仮置きCSS-->
<!--    <style>-->
<!--        .tabs {-->
<!--            margin-top: 50px;-->
<!--            padding-bottom: 40px;-->
<!--            background-color: #fff;-->
<!--            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);-->
<!--            width: 700px;-->
<!--            margin: 0 auto;}-->


<!--        .tab_item:hover {-->
<!--            opacity: 0.75;-->
<!--        }-->

<!--        input[name="tab_item"] {-->
<!--            display: none;-->
<!--        }-->

<!--        /*タブ切り替えの中身のスタイル*/-->
<!--        .tab_content {-->
<!--            display: none;-->
<!--            padding: 40px 40px 0;-->
<!--            clear: both;-->
<!--            overflow: hidden;-->
<!--        }-->
<!--        #all:checked ~ #all_content,-->
<!--        #result:checked ~ #result_content,-->
<!--        #design:checked ~ #design_content {-->
<!--            display: block;-->
<!--        }-->
<!--        .tabs input:checked + .tab_item {-->
<!--            background-color: #5ab4bd;-->
<!--            color: #fff;-->
<!--        }-->
<!--    </style>-->
</head>
<body>
<!-- サイドバーの表示-->
<div layout:fragment="sidebar"
     th:replace="~{fragments/sidebar :: sidebar}">
</div>

<!-- コンテンツの表示 -->
<main layout:fragment="content"
      class="offcanvas-outside bg-light">
    <div class="container-fluid">
        <!-- トグルボタン -->
        <div th:replace="~{fragments/sidebar :: toggler}">
        </div>
    </div>

DM
        <form method="get" th:action="@{/dm/search}">
            <label>
                <input type="search" name="keyword" maxlength="50">
            </label>
            <input type="submit" value="検索">
        </form>

    <div class="tabs">
        <input id="all" type="radio" name="tab_item" checked>
    <label class="tab_item" for="all">一覧</label>
    <input id="result" type="radio" name="tab_item">
    <label class="tab_item" for="result">検索結果</label>
<!--    <div class="tab_content" id="all_content">-->
<!--        一覧表示-->
<!--    </div>-->
<!--    <div class="tab_content" id="result_content">-->
<!--        検索結果-->
<!--    </div>-->
<br><br>
    <thead>
    <tr>
        <th>ユーザー名</th>
        <th>所属</th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    <tr th:if="${!#lists.isEmpty(users)}" th:each="user : ${users}">
        <form method="post" th:action="@{'/dm/dmToPerson/' + ${user.getUserId()}}">
            <td th:text="${user.getUserName()}">ユーザー名</td>
            <td th:if="${user.getCertification().getRole() == '0' }" th:text="${user.getStudents().getSchool().getSchoolName() + '  ' + user.getStudents().getSchoolGrade() + '年'}">所属</td>
            <td th:if="${user.getCertification().getRole() == '1' }" th:text="${user.getTeachers().getSchool().getSchoolName()}">所属</td>
            <td th:if="${user.getCertification().getRole() == '2' }" th:text="${user.getEmployees().getEnterprise().getEnterpriseName()}">所属</td>
            <td th:if="${user.getCertification().getRole() == '3' }" th:text="${user.getTeachers().getSchool().getSchoolName()}">所属</td>
            <td><input type="submit" th:value="DM"></td>
        </form>
    </tr>
    </tbody>
    <br>

        <div class="dm" th:if="${!#lists.isEmpty(dms)}">
    <tbody>
    <tr th:if="${!#lists.isEmpty(dms)}" th:each="dm : ${dms}">
        <form method="POST" action="">
            <input type="hidden" name="" value="">
            <td th:text="${dm.getCreateUserName()}"></td>
            <td th:text="${dm.getDirectMessageContent()}">DM内容</td>
        </form>
    </tr>
    </tbody>

    <br>
    <form method="POST" th:action="@{/dm/send}">
        <label>
            <input type="text" name="message" maxlength="500">
        </label>
        <input type="submit" name="send" value="送信">
    </form>
        </div>
</div>
</main>

</body>
</html>
